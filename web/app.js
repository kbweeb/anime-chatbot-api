const apiInput=document.getElementById("api"),msgInput=document.getElementById("msg"),sendBtn=document.getElementById("send"),out=document.getElementById("out");function log(e){out.textContent=`${out.textContent?out.textContent+"\n":""}${e}`}sendBtn.onclick=async()=>{const e=apiInput.value.trim(),t=msgInput.value.trim();if(!e)return alert("Enter API Base URL");if(!t)return alert("Type a message");try{log(`> ${t}`);const n=await fetch(`${e.replace(/\/$/,"")}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);const a=await n.json();log(`< ${a.reply}`)}catch(e){log(`! ${e.message||e}`)}}
