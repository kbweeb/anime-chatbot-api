const apiInput=document.getElementById("api"),msgInput=document.getElementById("msg"),sendBtn=document.getElementById("send"),out=document.getElementById("out");function log(e){out.textContent=`${out.textContent?out.textContent+"\n":""}${e}`}apiInput.value=apiInput.value||"https://anime-chatbot-api.vercel.app",sendBtn.onclick=async()=>{const e=apiInput.value.trim(),t=msgInput.value.trim();if(!e)return alert("Enter API Base URL");if(!t)return alert("Type a message");try{log(`> ${t}`);const a=await fetch(`${e.replace(/\/$/,"")}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(!a.ok)throw new Error(`${a.status} ${a.statusText}`);const n=await a.json();log(`< ${n.reply}`)}catch(e){log(`! ${e.message||e}`)}}
